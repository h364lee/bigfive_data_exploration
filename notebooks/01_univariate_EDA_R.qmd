---
title: "Univariate EDA in R & Python"
author: "Caleb Lee"
format: html
execute:
    echo: true
---

## Load Packages & Data
```{r}
library(tidyverse) # tidyverse package (include ggplot2, dplyr, readr, etc.) - modern R tools for data import, wrangling, and plotting.

bigfive <- read_csv('../data/cleaned/cleaned_bigfive_v1.csv') # read_csv() - reads csv into an R data frame

#Sampling
set.seed(42) # same random seed for reproducibility
bigfive_sample <- bigfive %>%
  sample_n(5000)

glimpse(bigfive) # glimpse() - quick overview 
summary(bigfive) # summary() - basic descriptive stats
```

## Trait Histograms
```{r}
# Example: Extraversion
bw <- (max(bigfive_sample$Extraversion) - min(bigfive_sample$Extraversion)) / 30

ggplot(bigfive_sample, aes(x = Extraversion)) + 
  # Histogram
  geom_histogram(
    bins = 30, 
    # bins = sets total number of bars 
    fill = "steelblue", 
    color = "white"
    ) +
  # KDE
  geom_density(
    aes(y = ..density.. *nrow(bigfive_sample) * bw), #scales the density up to counts: ..density.. = density height; nrow(bigfive_sample) = total N, bin width
    color='red', 
    size=1
    )+
  # x-axis scale
  scale_x_continuous(limits = c(1, 5), breaks = 1:5) +
  # Labels
  labs(
    title = "Histogram + Density: Extraversion (Sample n = 5,000)",
    x='Score', 
    y='Count') +

  theme_minimal() # applies a clean and simple theme style
